<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatable" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="stylem.css">
    <link rel="shortcut icon" href="https://img.icons8.com/?size=100&id=111189&format=png&color=000000" type="image/x-ico">
    <title>FlickPicks</title>
</head>
<body>
    <header>
        <video src="Demonslayer.mp4" autoplay muted></video>
        <nav>
            <div class = "logo_ul">
                <h1 style ="color:beige"> FlickPicks </h1>
                <ul>
                    <li><a href="Home.html" target="_self">Home</a></li>
                    <li><a href="indexm.html" target="_self">Movies</a></li>
                    <li><a href="series.html" target="_self">Series</a></li>
                    <li><a href="anime.html" target="_self">Anime</a></li>
                    <li><a href="feedback.html" target="_self">Feedback</a></li>
                </ul>
            </div>
            <div class = "search_user">
                <form id="search_form" onsubmit="getresults(event)">
                    <input type="text" placeholder="search anime..." id="search_input">
                </form>
            </div>
        </nav>
        <div class = "content">
            <h1 id="title">Demon Slayer</h1>
            <p>A family is attacked by demons and only two members survive - Tanjiro and his sister Nezuko, who is turning into a demon slowly. Tanjiro sets out to become a demon slayer to avenge his family and cure his sister.</p>
            <div class="details">
                <h6>Ufotable</h6>
                <h5 id="gen">Sci-fi</h5>
                <h4>2019</h4>
                <h3 id="rate"><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.6</h3>
            </div>
            <div class="btns">
                <a href="https://www.jiocinema.com/tv-shows/demon-slayer-kimetsu-no-yaiba/3964407" target="_blank"id="play">Watch<i class="bi bi-play-fill"></i></a>
            </div>
        </div>
        <section>
            <h4>Popular</h4>
            <i class="bi bi-chevron-left"></i>
            <i class="bi bi-chevron-right"></i>
            <div class="cards">
            <a href="#" class="card">
                <img src ="Op1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="op2.jpeg" alt="">
                    <div class="cont">
                        <h4>One Piece</h4>
                        <div class="sub">
                            <p>Adventure, 1999</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 9</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="ds1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="ds2.jpeg" alt="">
                    <div class="cont">
                        <h4>Demon Slayer</h4>
                        <div class="sub">
                            <p>Dark Fantasy, 2019</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.6</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="n1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="n2.jpeg" alt="">
                    <div class="cont">
                        <h4>Naruto</h4>
                        <div class="sub">
                            <p>Martial arts, 2002</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.4</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="yn1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="yn2.jpeg" alt="">
                    <div class="cont">
                        <h4>Your Name</h4>
                        <div class="sub">
                            <p>Supernatural, 2016</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.4</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="h1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="h2.jpeg" alt="">
                    <div class="cont">
                        <h4>Haikyu!! Movie : Battle of the Garbage Dump</h4>
                        <div class="sub">
                            <p>Comedy, 2024</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 7.8</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="s1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="s2.jpeg" alt="">
                    <div class="cont">
                        <h4>Spirited Away</h4>
                        <div class="sub">
                            <p>Fantasy, 2001</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.6</h3>

                        </div>
                    </div>
                </div>
            </a>

            </div>
        </section>
    </header>
    <script>
        async function getresults(event) {
            event.preventDefault();
            const query = document.getElementById('search_input').value;
            try {
                const response = await fetch('http://127.0.0.1:5000/recommend', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 'title': query, 'type': 'anime' })
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok ' + response.statusText);
                }

                const recommendations = await response.json();
                localStorage.setItem('recommendResults', JSON.stringify(recommendations));
                window.location.href = 'recom.html';
            } catch (error) {
                console.error('Fetch error:', error);
            }
        }
    </script>
</body>
</html>
