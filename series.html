<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatable" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="stylem.css">
    <link rel="shortcut icon" href="https://img.icons8.com/?size=100&id=111189&format=png&color=000000" type="image/x-ico">
    <title>FlickPicks</title>
</head>
<body>
    <header>
        <video src="Hotd.mp4" autoplay muted  ></video>
        <nav>
            <div class = "logo_ul">
                <h1 style ="color:beige"> FlickPicks </h1>
                <ul>
                    <li><a href="Home.html" target="_self">Home</a></li>
                    <li><a href="indexm.html" target="_self">Movies</a></li>
                    <li><a href="series.html" target="_self">Series</a></li>
                    <li><a href="anime.html" target="_self">Anime</a></li>
                    <li><a href="feedback.html" target="_self">Feedback</a></li>
                </ul>
            </div>
            <div class = "search_user">
                <form id="search_form" onsubmit="getresults(event)">
                    <input type="text" placeholder="search series..." id="search_input">
                </form>
            </div>
        </nav>
        <div class = "content">
            <h1 id="title">House of the Dragon</h1>
            <p>After the death of their father, two siblings fight for the throne, thereby causing a civil war known as the Dance of the Dragons.</p>
            <div class="details">
                <h6>A HBO Original Series</h6>
                <h5 id="gen">Drama</h5>
                <h4>2022</h4>
                <h3 id="rate"><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.4</h3>
            </div>
            <div class="btns">
                <a href="https://www.jiocinema.com/tv-shows/house-of-the-dragon/3740000" target="_blank"id="play">Watch<i class="bi bi-play-fill"></i></a>
            </div>
        </div>
        <section>
            <h4>Popular</h4>
            <i class="bi bi-chevron-left"></i>
            <i class="bi bi-chevron-right"></i>
            <div class="cards">
             <a href="#" class="card">
                <img src ="strangerthings.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="StrangerThings2.jpeg" alt="">
                    <div class="cont">
                        <h4>Stranger Things</h4>
                        <div class="sub">
                            <p>Sci-fi, 2016</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.7</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="hod1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="hod2.jpg" alt="">
                    <div class="cont">
                        <h4>House of the dragon</h4>
                        <div class="sub">
                            <p>Fantasy, 2022</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.4</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="bb1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="bb2.jpeg" alt="">
                    <div class="cont">
                        <h4>Breaking Bad</h4>
                        <div class="sub">
                            <p>Crime, 2008</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 9.5</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="Dark1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="Dark2.jpeg" alt="">
                    <div class="cont">
                        <h4>Dark</h4>
                        <div class="sub">
                            <p>Time Travel, 2017</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.7</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="Lupin1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="Lupin2.jpeg" alt="">
                    <div class="cont">
                        <h4>Lupin</h4>
                        <div class="sub">
                            <p>Thriller , 2021</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 7.5</h3>

                        </div>
                    </div>
                </div>
            </a>
            <a href="#" class="card">
                <img src ="f1.jpeg" alt="" class="poster">
                <div class="rest_card">
                    <img src="f2.jpeg" alt="">
                    <div class="cont">
                        <h4>Fleabag</h4>
                        <div class="sub">
                            <p>Comedy drama , 2016</p>
                            <h3><span>IMDB</span> <i class="bi bi-star-fill"></i> 8.7</h3>

                        </div>
                    </div>
                </div>
            </a>
            </div>
        </section>
    </header>
    <script>
        async function getresults(event) {
            event.preventDefault();
            const query = document.getElementById('search_input').value;
            try {
                const response = await fetch('http://127.0.0.1:5000/recommend', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 'title': query, 'type': 'series' })
                });

                if (!response.ok) {
                    console.log(response.statusText); // Log the status text for debugging
                    throw new Error('Network response was not ok ' + response.statusText);
                }

                const recommendations = await response.json();
                localStorage.setItem('recommendResults', JSON.stringify(recommendations));
                window.location.href = 'recom.html';
            } catch (error) {
                console.error('Fetch error:', error);
            }
        }
    </script>
</body>
</html>
